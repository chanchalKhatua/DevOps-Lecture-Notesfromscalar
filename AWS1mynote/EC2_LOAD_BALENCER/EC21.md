---

# üßµ **AWS Compute Services ‚Äì EC2 (Advanced Notes)**


---

# #Ô∏è‚É£ **1. Virtual Machines, Hypervisors & AWS Nitro System**

## üîπ What is a Virtual Machine (VM)?

A **Virtual Machine** is a software-based computer running inside a physical machine using a **hypervisor**.

### **How it works**

```
+------------------------+
| Physical Host Machine  |
|  - CPU                 |
|  - RAM                 |
|  - Disk                |
+-----------+------------+
            |
       Hypervisor
            |
+------------------------+
| Guest OS (VM)          |
| Applications & Files   |
+------------------------+
```

### Key characteristics:

* Isolated from host and other VMs
* Has its own **CPU, RAM, Disk**
* Great for:

  * Multi-OS testing
  * Running services in isolation
  * Security sandboxing
  * Cloud computing

---

## üîπ Hypervisor Types

### **Type 1 (Bare Metal)**

Runs directly on hardware (AWS uses this)

### **Type 2**

Runs on an OS (VirtualBox, VMware Workstation)

---

## üîπ How AWS Runs VMs ‚Äì *The Nitro System*

AWS does NOT use a traditional heavy hypervisor.

Instead it uses **AWS Nitro**, a combination of:

* Dedicated hardware accelerators
* Lightweight hypervisor
* Offloaded functions (network/storage security)

### **Nitro Architecture Diagram**

```
+------------------------------------------------+
|           AWS Physical Server                  |
|------------------------------------------------|
| Nitro Cards (Hardware Offload)                 |
|  - Network virtualization                      |
|  - EBS storage processing                      |
|  - Instance security isolation                 |
+------------------------------------------------+
| Lightweight Nitro Hypervisor                   |
+------------------------------------------------+
| Your EC2 Instance (VM)                         |
|  - OS/AMI                                      |
|  - App                                         |
|  - User Data                                   |
+------------------------------------------------+
```

### **Why Nitro is superior**

* Near **bare-metal performance**
* High security isolation
* Removes virtualization overhead (‚Äútax‚Äù)
* Enables Bare Metal EC2 instances
* Handles encryption without CPU cost

---

# #Ô∏è‚É£ **2. EC2 Basics, Components, Instance Types & Processors**

## üîπ What is EC2?

EC2 = Elastic Compute Cloud
A service to launch on-demand virtual servers called **EC2 Instances**.

---

## üîπ Components needed to launch an EC2 server

You must configure:

### **1Ô∏è‚É£ AMI (Amazon Machine Image)**

Includes:

* Operating system
* Default applications
* Boot configuration

### **2Ô∏è‚É£ Instance Type (CPU + RAM)**

Defines:

* Compute power
* Memory
* Network performance

### **3Ô∏è‚É£ Storage**

Options:

* EBS volumes
* Instance Store

### **4Ô∏è‚É£ Network setup**

* VPC
* Subnets
* Security Groups
* NACLs
* Public/Private IP

### **5Ô∏è‚É£ IAM Role**

Gives the instance permission to use AWS services.

### **6Ô∏è‚É£ Key Pair**

Used for SSH login.

---

## üîπ EC2 Instance Families (High-level)

| Family         | Purpose                   |
| -------------- | ------------------------- |
| **t-family**   | Low-cost general purpose  |
| **m-family**   | Balanced compute & memory |
| **c-family**   | Compute-optimized         |
| **r-family**   | Memory-optimized          |
| **g/p-family** | GPU for ML/AI             |
| **i/d-family** | Storage-optimized         |

---

## üîπ Instance Type Breakdown

Example: `t3.medium`

```
t3.medium
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ Size (vCPU & RAM)
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Generation
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Family (t = burstable)
```

---

## üîπ Choosing the Right Instance

Decision depends on:

### **1. Workload**

* CPU-heavy ‚Üí C family
* RAM-heavy ‚Üí R family
* Balanced ‚Üí M family
* GPU ‚Üí P or G
* High IOPS ‚Üí I or D

### **2. Cost vs performance**

### **3. Required features**

* Nitro
* EBS bandwidth
* Network throughput

---

# #Ô∏è‚É£ **3. EC2 Purchasing Options, Security & Tools**

## üîπ Purchasing Options Overview

### **1Ô∏è‚É£ On-Demand**

* Pay per hour/second
* Best for unpredictable workloads

### **2Ô∏è‚É£ Reserved Instances**

* 1 or 3 years commitment
* Up to 72% cheaper

### **3Ô∏è‚É£ Savings Plans**

* Flexible compared to RIs
* Commit to *spend* not *instance type*

### **4Ô∏è‚É£ Spot Instances**

* 90% cheaper
* Can be interrupted anytime

### **5Ô∏è‚É£ Dedicated Hosts**

* Physical servers for compliance

### **6Ô∏è‚É£ Dedicated Instances**

* Hardware isolation, shared host not allowed

---

## üîπ Security: SG vs NACL

### **Security Group (SG)**

* Instance-level firewall
* Stateful
* Allows rules only (no deny)

### **NACL**

* Subnet-level firewall
* Stateless
* Supports allow + deny rules

---

## üîπ Additional EC2 Tools

### **1Ô∏è‚É£ Instance Type Finder**

AWS feature that helps select instance type based on inputs such as:

* CPU requirement
* Memory requirement
* Expected throughput

### **2Ô∏è‚É£ EC2 Instance Selector (CLI tool)**

A CLI utility to filter instance types based on:

* CPU
* RAM
* Network
* Price

### **3Ô∏è‚É£ GenAI Instance Recommendation**

AWS recently added GenAI-powered tools to:

* Suggest instance type
* Optimize workload cost
* Recommend scaling patterns

---

# #Ô∏è‚É£ **4. Advanced Architecture Diagram (EC2 End-to-End)**

```
                 +-----------------------------+
                 |      AWS Management         |
                 |  (Console/CLI/SDK/IaC)      |
                 +-------------+---------------+
                               |
                               v
+------------------- AWS Backend Control Plane -----------------------+
|  EC2 API     IAM     VPC Control   EBS Control   Pricing Engine     |
+---------------------------------------------------------------------+
                               |
                               v
+-------------------- Physical AWS Server ----------------------------+
|   Nitro Cards (Network, Storage, Security)                          |
|   Nitro Hypervisor (Lightweight, Isolated)                          |
+----------------------------+----------------------------------------+
                             |
                             v
                 +-----------------------------+
                 |     Your EC2 Instance       |
                 |  OS / Apps / User Data      |
                 +-----------------------------+
```

---

